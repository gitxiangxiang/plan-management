<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>整体框架</title>
</head>
<body>

<footer th:fragment="topbar(activePage)">
    <nav class="navbar navbar-expand-xl navbar-light bg-light">
        <a class="navbar-brand" href="/">
            <i class="fas fa-3x fa-tachometer-alt tm-site-icon"></i>
            <h1 class="tm-site-title mb-0">主页</h1>
        </a>
        <button class="navbar-toggler ml-auto mr-0" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mx-auto">
                <li class="nav-item">
                    <a class="nav-link active" th:class="${activePage=='index' ? 'nav-link active' : 'nav-link'}" href="/">我的项目
                        <span class="sr-only">(current)</span>
                    </a>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown1" role="button" data-toggle="dropdown" aria-haspopup="true"
                       aria-expanded="false">
                        报表
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <a class="dropdown-item" href="#">月度</a>
                        <a class="dropdown-item" href="#">周度</a>
                        <a class="dropdown-item" href="#">日度</a>
                    </div>
                </li>
                <li class="nav-item" th:if="${session.projectId} != null">
                    <a id="showProjectDetail" class="nav-link" th:class="${activePage=='per-project' ? 'nav-link active' : 'nav-link'}" href="/per-project2">项目详情</a>
                </li>

                <li class="nav-item">
                    <a class="nav-link" href="#">消息</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/accounts">
                        我的
                    </a>
                </li>
            </ul>
            <ul class="navbar-nav">
                <li class="nav-item dropdown">
                    <a class="nav-link  dropdown-toggle" href="#" id="navbarDropdown3" role="button" data-toggle="dropdown" aria-haspopup="true"
                       aria-expanded="false">
                        <i class="far fa-user mr-2 tm-logout-icon"></i>
                        <span th:text="${session.userName}" th:if="${session.userName!=null}">用户名</span>
                        <span th:text="请先登录" th:unless="${session.userName!=null}">用户名</span>
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdown3">
                        <a class="dropdown-item" href="/logout" th:if="${session.userName!=null}">logout</a>
                        <a class="dropdown-item" href="/login" th:unless="${session.userName!=null}">login</a>
                    </div>
                </li>
            </ul>
        </div>
    </nav>
    <script>
        // $("#showProjectDetail").click(function () {
        //     if([[${session.projectId}]] ==null){
        //         alert("请先选择一个项目");
        //     }
        // })
    </script>
</footer>


</body>
</html>